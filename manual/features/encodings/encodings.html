<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Encodings &mdash; re2c 0.16 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/theme-re2c.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.16',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="alternate" type="application/atom+xml" href="../../../feed/atom.xml" title="Atom 1.0" />
    
 
  </head>
  <body role="document">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="re2c-logo">
    re2c-0.16
</div>

<h3><a href="../../../index.html">Home</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../about/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../manual.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../options/options.html">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../warnings/warnings.html">Warnings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../syntax/syntax.html">Syntax</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../features.html">Features</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../conditions/conditions.html">Conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../state/state.html">State</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reuse/reuse.html">Reuse</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Encodings</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../generic_api/generic_api.html">Generic API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../skeleton/skeleton.html">Skeleton</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dot/dot.html">.dot</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../news/news.html">News</a></li>
</ul>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="encodings">
<h1>Encodings<a class="headerlink" href="#encodings" title="Permalink to this headline">Â¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p><code class="docutils literal"><span class="pre">re2c</span></code> supports the following encodings: ASCII (default), EBCDIC (<code class="docutils literal"><span class="pre">-e</span></code>),
UCS-2 (<code class="docutils literal"><span class="pre">-w</span></code>), UTF-16 (<code class="docutils literal"><span class="pre">-x</span></code>), UTF-32 (<code class="docutils literal"><span class="pre">-u</span></code>) and UTF-8 (<code class="docutils literal"><span class="pre">-8</span></code>).
See also inplace configuration <code class="docutils literal"><span class="pre">re2c:flags</span></code>.</p>
<p>The following concepts should be clarified when talking about encoding.
<em>Code point</em> is an abstract number, which represents single encoding
symbol. <em>Code unit</em> is the smallest unit of memory, which is used in the
encoded text (it corresponds to one character in the input stream). One
or more code units can be needed to represent a single code point,
depending on the encoding. In <em>fixed-length</em> encoding, each code point
is represented with equal number of code units. In <em>variable-length</em>
encoding, different code points can be represented with different number
of code units.</p>
<ul class="simple">
<li>ASCII is a fixed-length encoding. Its code space includes 0x100
code points, from 0 to 0xFF. One code point is represented with exactly one
1-byte code unit, which has the same value as the code point. Size of
<code class="docutils literal"><span class="pre">YYCTYPE</span></code> must be 1 byte.</li>
<li>EBCDIC is a fixed-length encoding. Its code space includes 0x100
code points, from 0 to 0xFF. One code point is represented with exactly
one 1-byte code unit, which has the same value as the code point. Size
of <code class="docutils literal"><span class="pre">YYCTYPE</span></code> must be 1 byte.</li>
<li>UCS-2 is a fixed-length encoding. Its code space includes 0x10000
code points, from 0 to 0xFFFF. One code point is represented with
exactly one 2-byte code unit, which has the same value as the code
point. Size of <code class="docutils literal"><span class="pre">YYCTYPE</span></code> must be 2 bytes.</li>
<li>UTF-16 is a variable-length encoding. Its code space includes all
Unicode code points, from 0 to 0xD7FF and from 0xE000 to 0x10FFFF. One
code point is represented with one or two 2-byte code units. Size of
<code class="docutils literal"><span class="pre">YYCTYPE</span></code> must be 2 bytes.</li>
<li>UTF-32 is a fixed-length encoding. Its code space includes all
Unicode code points, from 0 to 0xD7FF and from 0xE000 to 0x10FFFF. One
code point is represented with exactly one 4-byte code unit. Size of
<code class="docutils literal"><span class="pre">YYCTYPE</span></code> must be 4 bytes.</li>
<li>UTF-8 is a variable-length encoding. Its code space includes all
Unicode code points, from 0 to 0xD7FF and from 0xE000 to 0x10FFFF. One
code point is represented with sequence of one, two, three or four
1-byte code units. Size of <code class="docutils literal"><span class="pre">YYCTYPE</span></code> must be 1 byte.</li>
</ul>
<p>In Unicode, values from range 0xD800 to 0xDFFF (surrogates) are not
valid Unicode code points, any encoded sequence of code units, that
would map to Unicode code points in the range 0xD800-0xDFFF, is
ill-formed. The user can control how <code class="docutils literal"><span class="pre">re2c</span></code> treats such ill-formed
sequences with <code class="docutils literal"><span class="pre">--encoding-policy</span> <span class="pre">&lt;policy&gt;</span></code> flag.</p>
<p>For some encodings, there are code units, that never occur in valid
encoded stream (e.g. 0xFF byte in UTF-8). If the generated scanner must
check for invalid input, the only true way to do so is to use default
rule <code class="docutils literal"><span class="pre">*</span></code>. Note, that full range rule <code class="docutils literal"><span class="pre">[^]</span></code> won&#8217;t catch invalid code units when variable-length encoding is used
(<code class="docutils literal"><span class="pre">[^]</span></code> means &#8220;all valid code points&#8221;, while default rule <code class="docutils literal"><span class="pre">*</span></code> means &#8220;all possible code units&#8221;).</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
      Last updated on Mar 04, 2016.
    </div>
  </body>
</html>